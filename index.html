<!DOCTYPE html>
<html>
  <head>
    <title>Authentication Check</title>
    <style>
      #authMessage {
        color: red;
        font-size: 20px;
      }
    </style>
    <script>
      function checkAuthentication() {
        const authToken = localStorage.getItem('auth_token');

        if (!authToken) {
          // If auth_token is not found, display an error message
          document.getElementById('authMessage').style.display = 'block';
        } else {
          // If auth_token is found, create and append the iframe
          const iframe = document.createElement('iframe');
          iframe.id = 'myFrame';
          iframe.height = '400';
          iframe.width = '400';
          iframe.crossOrigin = 'true';
          iframe.src = 'https://scorm-client.vercel.app/scormdriver/indexAPI.html';

          document.body.appendChild(iframe);
        }
      }

      // Call the checkAuthentication function when the page loads
      window.onload = checkAuthentication;
    </script>
    <script src="./scormcontent/scormfunctions.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="authMessage" style="display: none;">User Not Authenticated</div>
    <!-- The iframe will be dynamically added here if the user is authenticated -->
  </body>
</html>
